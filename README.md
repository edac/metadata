# EDAC Metadata Processing Tools

## CSDGM To ISO 19115

This is based on the csdgm2iso19115-2.xslt provided by NOAA's National Coastal Data 
Development Center (NCDDC). See the NCDDC version for more information regarding previous revisions:

        http://www.ncddc.noaa.gov/metadata-standards/metadata-xml/

This XSLT has undergone significant revisions from the original source. Most, if not all, of the
machine-generated code has been replaced and most of the loops have been refactored to avoid generating
empty tags or better reflect the 0 to 1 FGDC constraints. In addition, we have added templates for 
contacts, citations, dates/datetimes and spatial references. We have paid particular attention to revisions 
for vector datasets. See the ea2fc revision for more information.

Note also that, while we have tested this against a variety of FGDC xml, the transformation 
may still contain gaps in its coverage.

The csdgm2iso19115-2-edac.xslt generates an ISO 19115-2 metadata record using the MI package. The ea2fc-edac.xsl generates an ISO 19110 FeatureCatalogue record.

The XML generated by the csdgm2iso19115-2-edac.xslt transformation is accepted by ESRI GeoPortal installations and [DATA.gov](http://catalog.data.gov/dataset).

**Using the transformation**

* Make sure the input FGDC is valid against the FGDC-STD-011-1998 or FGDC-STD-012-2002 (RSE) schemas.
* Check the XSLT (csdgm2iso19115-2-edac.xslt) to make sure that the spatial reference definitions for your dataset is listed. Update the XSLT if it's not.
* This XSLT generates one of the many possible valid distributionInfo structures. 
* You may wish to adjust the rolecodes to properly identify contact types.
* The XSLT uses several input parameters. Please refer to the XSLT for more information on usage.

**About Vector Data**

If your FGDC xml defines a vector dataset and includes attribute definitions (eainfo), the csdgm2iso19115-2-edac.xslt will automatically generate a 19110 FeatureCatalogue file. There are three parameters required to correctly generate this file. Refer to the XSLT for more information.

## GSTORE Metadata 
The [GSTORE platform](http://gstore.unm.edu) utilizes a custom metadata schema to support multiple metadata standards, including FGDC, FGDC-RSE and a suite of ISO formats (19115, 19110, and 19119). The transformations to and from GSTORE are provided in the gstore directory.


**File Descriptions**

gstore/
    *_mapping.json : the current live mappings for GSTORE objects in Elasticsearch.

    fgdc_to_gstore.xsl : FGDC-STD-001-1998 or FGDC-STD-012-2002 xml to GSTORE xml
    gstore_schema.xsd : the GSTORE schema
    gstore_to_19110.xsl : GSTORE xml to ISO 19110 FeatureCatalogue xml
    gstore_to_19119.xsl : GSTORE xml to ISO 19110 FeatureCatalogue xml
    gstore_to_dc.xsl : GSTORE xml to basic Dublin Core xml (note that it is incomplete)
    gstore_to_ds.xsl : GSTORE xml for collection to ISO 19115 DS Data Series xml
    gstore_to_eml.xsl : GSTORE xml to basic EML xml (note that it is incomplete)
    gstore_to_fgdc_html.xsl : GSTORE xml to FGDC-STD-001-1998/FGDC-STD-012-2002 html (includes schema.org Dataset markup)
    gstore_to_fgdc.xsl : GSTORE xml to FGDC-STD-001-1998/FGDC-STD-012-2002 xml
    gstore_to_iso_html.xsl : GSTORE xml to ISO 19115:2003 html (includes schema.org Dataset markup)
    gstore_to_iso.xsl : GSTORE xml to ISO 19115:2003 xml
    gstore_to_pod_singleton.xsl : GSTORE to [Project Open Data](https://github.com/project-open-data/project-open-data.github.io/blob/master/metadata-resources.md) dataset JSON (note: this is preliminary)
    iso_to_gstore-ns.xsl : ISO 19115:2003 to GSTORE xml (note that it is incomplete and assumes a distribution element similar to the GSTORE to ISO output)
    readme.md
    remove-namespaces.xsl : required for the iso_to_gstore-ns transformation
    wcs_getcapabilities_to_19119.xsl : WCS GetCapabilities xml to ISO 19119 Web Services xml
    wfs_getcapabilities_to_19119.xsl : WFS GetCapabilities xml to ISO 19119 Web Services xml
    wms_getcapabilities_to_19119.xsl : WMS GetCapabilities xml to ISO 19119 Web Services xml

    from_gstore/ : examples of vector or raster metadata documents stored or generated through the GSTORE API
        raster_FGDC-STD-012-2002.html
        raster_FGDC-STD-012-2002.xml
        raster_GSTORE.xml : the modified GSTORE schema xml before transformation to another standard
        raster_ISO-19115 2003.html
        raster_ISO-19115-2003.xml
        raster_ISO-19119-WCS.xml
        raster_ISO-19119-WMS.xml
        raster_services.json : the GSTORE object (in this instance, a dataset) description response
        raster_STORED_FGDC.xml : the original xml delivered for import to GSTORE
        raster_STORED_GSTORE.xml : the converted GSTORE schema xml generated from the original xml but not modified for delivery
        raster_wms_getcapabilities.xml : WMS GetCapabilities response
        
        vector_FGDC-STD-001-1998.html
        vector_FGDC-STD-001-1998.xml
        vector_GSTORE.xml : the modified GSTORE schema xml before transformation to another standard
        vector_ISO-19115 2003.html
        vector_ISO-19115-2003.xml
        vector_ISO-19110.xml
        vector_ISO-19119-WFS.xml
        vector_ISO-19119-WMS.xml
        vector_services.json : the GSTORE object (in this instance, a dataset) description response
        vector_STORED_FGDC.xml : the original xml delivered for import to GSTORE
        vector_STORED_GSTORE.xml : the converted GSTORE schema xml generated from the original xml but not modified for delivery
        vector_wms_getcapabilities.xml : WMS GetCapabilities response

        collection_GSTORE.xml : the modified GSTORE schema xml before transformation to another standard
        collection_STORED_GSTORE.xml : the original xml delivered for import to GSTORE
        collection_ISO-19115-DS.xml
        collection_services.json : the GSTORE object (in this instance, a collection) description response

        example_opendata.json : example output for [Project Open Data](https://github.com/project-open-data/project-open-data.github.io/blob/master/metadata-resources.md) JSON schema
    
    input_xml/ : input xml for the GSTORE transformations (starting with FGDC-* for dataset objects or GSTORE for collection objects)
        vector_FGDC.xml
        raster_FGDC.xml
        collection_GSTORE.xml

**URLs for the example dataset**

vector:

    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/services.json
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/FGDC-STD-001-1998.html   
      
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/FGDC-STD-001-1998.xml  
     
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/ISO-19115 2003.html
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/ISO-19115-2003.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/ISO-19110.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/ISO-19119:WFS.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/ISO-19119:WMS.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/metadata/GSTORE.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/c9ca5336-e72e-4e19-a225-9a4bfff311a2/services/ogc/wms?SERVICE=wms&REQUEST=GetCapabilities&VERSION=1.1.1
    

raster:

    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/services.json
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/FGDC-STD-012-2002.html 
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/FGDC-STD-012-2002.xml 
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/ISO-19115 2003.html
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/ISO-19115-2003.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/ISO-19119:WCS.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/ISO-19119:WMS.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/metadata/GSTORE.xml
    
    http://gstore.unm.edu/apps/rgis/datasets/42caae77-7536-4423-bdc1-5d42b6635d4a/services/ogc/wms?SERVICE=wms&REQUEST=GetCapabilities&VERSION=1.1.1
    

collection:

    Collections are not currently available through GSTORE. 



    
